\section{Motivation}
\label{sec:motivation}

``Mental pictures'' and ``visual intuition'' capture how people make sense of abstract concepts and see solutions to hard problems in a visual way. Jacques Hadamard described numerous examples of mathematicians doing exactly this in \emph{The Mathematician's Mind}~\cite{Hadamard1997a}, later summarized by Alan Kay~\cite{doingWithImages}:

\begin{quote}
Jacques Hadamard, the famous French mathematician, in the late stages of his life, decided to poll his 99 buddies, who made up together the 100 great mathematicians and physicists on the earth, and he asked them, ``How do you do your thing?'' They were all personal friends of his, so they wrote back depositions. Only a few, out of the hundred, claimed to use mathematical symbology at all. Quite a surprise. All of them said they did it mostly in imagery or figurative terms.
\end{quote}

Learning research suggests that visual representations of knowledge are powerful tools for thought. Visual representations like diagrams enable more robust learning \cite{multimediaLearning} and abstract and flexible problem solving~\cite{Koedinger1990a, pictureAlgebra,whyDiagramWorth}. Importantly, when people work with visuals, they build better conceptual understanding and more flexible mental models that go beyond memorized procedures~\cite{multipleReps}.

Creating visual representations of complex concepts involves transforming abstract ideas into tangible illustrations~\cite{coulon_importance_2024}. This process demands both a deep understanding of the subject matter and expertise in graphical tools--skills that are not commonly found together. As a result, despite the demand for diagrams, the ability to create them is limited to a small group of specialists. Consequently, much of the mathematical literature is sparsely illustrated.  As William Thurston noted, ``Mathematicians usually have fewer and poorer figures in their papers and books than in their heads.'' This sparsity of diagrams also affects students, continuing Kay's train of thought:

\begin{quote}
    The sad part of the diagram is that every child in the United States is taught math and physics through this [symbolic] channel. The channel that almost no adult creative mathematician or physicist uses to do it... They use this channel to communicate, but not to do their thing.
\end{quote}

\section{Thesis Overview}

I~\footnote{All the work presented in this proposal was carried out in collaboration with others, and to recognize this, I use ``we'' rather than the singular first person in the subsequent chapters.} investigated how domain experts create conceptual diagrams via semi-structured interviews (\cref{chp:interviews}). The study revealed that diagramming tools should be \textit{representationally salient}: tools should allow authors to define visual representations for domain-specific concepts in a manageable, scalable, and composable way. 

Existing diagramming tools often require hours of low-level tweaking of geometric primitives and do not capture the core task of diagramming: representing ideas visually. Consequently, the diagrams created by existing tools don't have semantics, as they are merely a collection of pixels and geometric blobs. Others who want to build upon existing diagrams often cannot reproduce the work, because diagrams are currently delivered in low-level formats such as rasterized images and Scalable Vector Graphics (SVG). 

To address this problem, I designed a tool called \Penrose, which supports representational salience (\cref{chp:penrose}). The \Penrose format contains the \emph{source information} of diagram design: using \Penrose, diagram authors encode domain-specific concepts and how to visually represent them in plain-text languages. \Penrose generates diagrams from this encoding through automatic layout. I demonstrate the effectiveness and generality of the system by showing how it can be used to encode visual representations across a wide range of domains.

\Penrose has several potential audiences of users. I chose to validate its usefulness for making diagrammatic problems because:

\begin{itemize}
    \item the learning sciences literature provides ample evidence for the use of them~\cite{multipleReps, multimediaLearning, cotraining}.
    \item by making diagrammatic problems using \Penrose, problem authors can inform us about the ecological validity of \Penrose-generated diagrams.
    \item problem authors is a concrete user group that have high demand for more diagrams and use them for social good.
\end{itemize}

Atop \Penrose, I built \Edgeworth, a tool designed to help educators easily create visual problems (\cref{chp:edgeworth}). \Edgeworth works in two main ways: firstly, it takes a single diagram from the user and systematically alters it to produce many variations, which the educator can then choose from to create multiple problems. Secondly, it automates the layout of diagrams using \Penrose, ensuring consistent high quality without the need for manual adjustments. To assess \Edgeworth, I carried out: a technical evaluation to evaluate reliability, a user study to evaluate efficiency, and expert walkthrough demonstrations to evaluate ecological validity (\cref{chp:edgeworth-eval}). 

% My thesis statement summarizes the above:

% \vspace{10pt}
% \boxtext{
% \textbf{Encoding visual 
% epresentations in diagramming tools simplifies programming of interactive visual activities that provide students with automated feedback at scale.}
% }
% \vspace{10pt}

 % The expected contributions of this work are:

% \begin{enumerate}
%     \item \emph{Need-finding studies} on challenges authors face.
%     \item \emph{A platform of tools} based on the visual encoding of \Penrose for mass-production of diagrams (\cref{chp:edgeworth}) and rapid authoring of interactive diagrams (\cref{chp:ipenrose}).
%     \item \emph{A theoretical framework} of the grounding rectangle, which guides the design of tools presented in this proposal.
% \end{enumerate}


\section{Thesis Outline and Research Questions}


In \cref{chp:background}, I first provide some historical context and discuss related work on diagram use and diagramming tools. In the rest of this dissertation, I present a body of work that begins with an empirical study on existing diagramming processes and limitations of existing tools (\cref{chp:interviews}). This part of the thesis is \textit{descriptive and explanatory resarch}.  In it, I investigate how the diagramming process, and focus on the following research question:

\refstepcounter{rqcounter}\label{rq:diagrammer}
\boxtext{\textbf{\therqcounter:} How do diagrammers utilize the strengths and cope with the limitations of their diagramming tools?}


The findings of this study drive the design and implementation of \Penrose, presented in \cref{chp:penrose}. \Penrose's design responds directly to the limitations identified in current practices, aiming to bridge the gap between abstract conceptualization and tangible representation. Therefore, the research question aligns with \textit{artificial} science ~\cite{simon_sciences_1969}:

\refstepcounter{rqcounter}\label{rq:expressiveness}
\boxtext{\textbf{\therqcounter:} How effectively can \Penrose's language-based specification express a wide range of diagramming domains without requiring significant modification to the system's core design? }

The subsequent chapters of this dissertation detail how \Edgeworth--an extension designed to generate multiple problem variations from a single diagram--address the identified needs and support the process of diagrammatic problem authoring in educational settings. In \cref{chp:edgeworth}, I present the system design of \Edgeworth and show its expressiveness by collecting a dataset of diagrammatic translation problems in multiple domains. \cref{chp:edgeworth-eval} describes a series of evaluative studies that aim to answer the following research questions about various aspects of \Edgeworth:

\boxtext{
\refstepcounter{rqsupcounter}\label{rq:mut}
\textbf{\therqsupcounter:} Can \Edgeworth reliably generate translation problems with relatively few variations required?

\refstepcounter{rqsupcounter}\label{rq:eff}
\textbf{\therqsupcounter:} Comparing with a conventional drawing tool, are authors more efficient at making translation problems using \Edgeworth? 

\refstepcounter{rqsupcounter}\label{rq:eco}
\textbf{\therqsupcounter:} Do real-world instructors consider \Edgeworth-generated translation problems to be useful? 
}

In \cref{chp:conclusion}, I assess the contributions and insights developed in this dissertation and outline potential directions for future research of diagramming.

% Comparing with related work discussed in \cref{sec:edgeworth-related}, \Edgeworth uniquely support scalable generation of diagrammatic translation problems in multiple domains. Therefore, in this section, I discuss hypotheses that cover the essential features of \Edgeworth such as the mutation-based approach and automatic detection of examples and counterexamples. For each hypothesis, I will also discuss further research questions to be investigated in the evaluation plan. 

% \boxtext{\textbf{H1:} Given manageable effort in configuring the mutator, \Edgeworth can reliably generate examples and counterexamples for translation problems with relatively few mutants required.}

% An effective translation problem needs to include both examples and counterexamples. Therefore, the technical approach of \Edgeworth---program mutations on \Substance code---must produce them reliably. To verify H1, the following research questions need to be answered:

% \begin{itemize}
%     \item \textbf{R1.1}: How many mutants does \Edgeworth need to generate to obtain sufficient examples and counterexamples for translation problems?
%     \item \textbf{R1.2}: How frequently does \Edgeworth succeed or fail at doing so?
% \end{itemize}

% The preliminary evaluation showed that the mutator configuration will affect the quality of the mutants. Therefore, I will also address the following research question on mutator configuration and will use the results to further investigate possible ways to lower the configuration burden, e.g. the programming-by-example workflow and changes to the configuration format.

% \begin{itemize}
%     \item \textbf{R1.3}: How much configuration effort is required to produce examples and counterexamples? 
% \end{itemize}

% \boxtext{\textbf{H2}: \Edgeworth makes translation problem authoring more efficient.}

% The main goal of \Edgeworth is to improve the efficiency of translation problem authoring. To verify H2, the evaluation plan will answer:
% \begin{itemize}
%     \item  \textbf{R2.1}: Comparing with workflows that authors are using, can \Edgeworth shorten the authoring time of translation problems?
%     \item  \textbf{R2.2}: Which aspect(s) of the authoring workflow does \Edgeworth simplify, and does \Edgeworth introduce new authoring difficulties? 
%     \item  \textbf{R2.3}: Are authors more efficient using the configuration-based workflow or programming-by-example workflow?
% \end{itemize}

% Regardless of the answer to R2.1, meaningful results on R2.2 can provide more insights on how \Edgeworth's approach impacts the problem authoring experience. For instance, I postulate that \Edgeworth improves authoring efficiency by (1) simplifying the mechanics of diagram production and (2) reducing the author's effort to come up with examples and counterexamples. On the other hand, \Edgeworth's mutation-based approach may introduce new problems such as difficulties finding the right diagrams from the mutant pool and controlling the quality of examples. The automatic detection heuristics described above aim to mitigate these difficulties.

% \boxtext{\textbf{H3}: \Edgeworth can automatically distinguish examples from counterexamples, and this feature helps authors find examples and counterexamples for translation problems.}

% The effectiveness of translation problems depends on the choice of examples and counterexamples. I hypothesize that example generation/selection is a nontrivial activity that authors spend time doing, and computational support in \Edgeworth can help authors identify examples/counterexamples. Answering the following research questions will verify H3:

% \begin{itemize}
%     \item \textbf{R3.1}: Can \Edgeworth automatically detect examples, counterexamples, and edge cases with a reasonably high accuracy?
%     \item \textbf{R3.2}: Do the detection results help authors identify potential answers to translation problems?
% \end{itemize} \subsection{Limitations}



% \setlength{\columnsep}{1em}
% \setlength{\intextsep}{0em}
% \begin{wrapfigure}{r}{.45\textwidth}
% \vspace{-10pt}
%   \begin{center}
%     \includegraphics[width=0.45\textwidth]{assets/chapter-1/grounding-rectangle.pdf}
%   \end{center}
% \end{wrapfigure}

% Let me use a diagram to capture this: the \textbf{grounding rectangle} represents two pathways to learning and problem solving: One can perform symbol-to-symbol transformations (SS, or “symbol pushing”) or through an \textcolor[HTML]{8C91C2}{alternative diagrammatic pathway}: a symbol-to-diagram translation (SV), a diagram-to-diagram transformation (VV), and finally a diagram-to-symbol translation (VS).


% Research on expertise development suggests a need for substantial exposure involving repetition in varied contexts or deliberate practice \cite{deliberatePractice} to acquire the perceptual chunks \cite{chunkingModels, perceptualLearningExpertise} that support accurate interpretation and use of visual representations~\cite{Koedinger1990a}. Through enough practice, learning the two paths in the grounding rectangle can produce better, more robust memory \cite{dualCoding}, learning~\cite{multipleReps, multimediaLearning, cotraining}, and future reasoning, both in providing flexibility and in supporting error recovery \cite{groundedAndAbstractReps}.